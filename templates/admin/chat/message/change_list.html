<!-- templates/admin/chat/message/change_list.html -->
{% extends "admin/change_list.html" %}
{% load i18n %}
{% load static %}

{% block extrahead %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'chat/css/custom_model.css' %}">
{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block object-tools %}
    <a href="{% url 'admin:chat_message_add' %}" class="add-button">Add Message</a>
{% endblock %}

{% block result_list %}
    <table id="result_list">
        <thead>
        <tr>
            <th>Message</th>
            <th>Sender</th>
            <th>Recipient</th>
            <th>Subchannel</th>
            <th>Actions</th> <!-- Add a new header for the actions -->
        </tr>
        </thead>
        <tbody>
        {% for item in cl.result_list %}
            <tr>
                <!-- Add a link to the channel name -->
                <td><a href="{% url 'admin:chat_message_change' item.id %}">{{ item.content }}</a></td>
                <td>{{ item.sender }}</td>
                <td>{{ item.recipient }}</td>
                <td>{{ item.subchannel }}</td>
                <!-- Add an edit button and a delete button -->
                <td>
                    <a href="{% url 'admin:chat_message_change' item.id %}" class="edit-button">Edit</a> |
                    <a href="{% url 'admin:chat_message_delete' item.id %}" class="delete-button">Delete</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}